{"version":3,"file":"ngx-img-viewer.mjs","sources":["../../../projects/ngx-img-viewer/src/lib/ngx-img-viewer.service.ts","../../../projects/ngx-img-viewer/src/lib/ngx-img-viewer-config.model.ts","../../../projects/ngx-img-viewer/src/lib/fullscreen.directive.ts","../../../projects/ngx-img-viewer/src/lib/ngx-img-viewer.component.ts","../../../projects/ngx-img-viewer/src/lib/ngx-img-viewer.component.html","../../../projects/ngx-img-viewer/src/lib/ngx-img-viewer.module.ts","../../../projects/ngx-img-viewer/src/public-api.ts","../../../projects/ngx-img-viewer/src/ngx-img-viewer.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ImageViewerService {\r\n\r\n  constructor() { }\r\n\r\n}\r\n","export interface ImageViewerConfig {\r\n    zoomFactor?: number;\r\n    wheelZoom?: boolean;\r\n    allowFullscreen?: boolean;\r\n    containerStyle: {};\r\n    imgStyle?: {};\r\n    allowKeyboardNavigation?: boolean;\r\n    customBtns?: Array<\r\n      {\r\n        name: string;\r\n        icon: string;\r\n      }\r\n    >;\r\n}\r\n\r\nexport class CustomEvent {\r\n  name: string;\r\n  imageIndex: number;\r\n\r\n  constructor(name:string, imageIndex: number) {\r\n    this.name = name;\r\n    this.imageIndex = imageIndex;\r\n  }\r\n}\r\n","import { Directive, HostListener, OnChanges, Input, ElementRef } from '@angular/core';\r\nimport * as screenfull from 'screenfull';\r\n\r\n@Directive({\r\n    selector: '[ngxToggleFullscreen]'\r\n})\r\nexport class ToggleFullscreenDirective implements OnChanges {\r\n\r\n    @Input('ngxToggleFullscreen')\r\n    isFullscreen?: boolean;\r\n\r\n    constructor(private el: ElementRef) { }\r\n\r\n    ngOnChanges() {\r\n        if (this.isFullscreen && screenfull.default.isEnabled) {\r\n            screenfull.default.request(this.el.nativeElement);\r\n        } else if (screenfull.default.isEnabled) {\r\n            screenfull.default.exit();\r\n        }\r\n    }\r\n\r\n}\r\n","import {Component, OnInit, Input, Optional, Inject, Output, EventEmitter, HostListener, SecurityContext } from '@angular/core';\r\nimport { ImageViewerConfig, CustomEvent } from './ngx-img-viewer-config.model';\r\nimport heic2any from 'heic2any';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\nconst DEFAULT_CONFIG: ImageViewerConfig = {\r\n  zoomFactor: 0.1,\r\n  containerStyle: {\r\n    'background-color':'#ccc'\r\n  },\r\n  wheelZoom: false,\r\n  allowFullscreen: true,\r\n  allowKeyboardNavigation: true,\r\n};\r\n\r\n@Component({\r\n  selector: 'ngx-img-viewer',\r\n  templateUrl: './ngx-img-viewer.component.html',\r\n  styleUrls: ['./ngx-img-viewer.component.scss']\r\n})\r\nexport class ImageViewerComponent implements OnInit {\r\n\r\n  @Input() @Output()\r\n  src: string[] = [];\r\n\r\n  @Input()\r\n  index = 0;\r\n\r\n  @Input()\r\n  config: ImageViewerConfig = {\r\n    containerStyle: {\r\n      'background-color':'#ccc'\r\n    }\r\n  }\r\n\r\n  @Output()\r\n  indexChange: EventEmitter<number> = new EventEmitter();\r\n\r\n  @Output()\r\n  configChange: EventEmitter<ImageViewerConfig> = new EventEmitter();\r\n\r\n  @Output()\r\n  customEvent: EventEmitter<CustomEvent> = new EventEmitter();\r\n\r\n  checkedIndex:number[] = [];\r\n\r\n  public style = { transform: '', msTransform: '', oTransform: '', webkitTransform: '' };\r\n  public fullscreen = false;\r\n  public loading = true;\r\n  private scale = 1;\r\n  private rotation = 0;\r\n  private translateX = 0;\r\n  private translateY = 0;\r\n  private prevX?: number;\r\n  private prevY?: number;\r\n  private hovered = false;\r\n\r\n  constructor(\r\n    @Optional() @Inject('config') public moduleConfig: ImageViewerConfig,\r\n    public sanitizer: DomSanitizer\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.checkedIndex = [];\r\n    const merged = this.mergeConfig(DEFAULT_CONFIG, this.moduleConfig);\r\n    this.config = this.mergeConfig(merged, this.config);\r\n    if(this.config.imgStyle){\r\n      this.style = Object.assign({}, this.config.imgStyle, this.style);\r\n    }\r\n    this.triggerConfigBinding();\r\n  }\r\n  // @HostListener('window:keyup.ArrowRight',  ['$event'])\r\n  // nextImage(event:Event) {\r\n  //   if (this.canNavigate(event) && this.index < this.src.length - 1) {\r\n  //     this.loading = true;\r\n  //     this.index++;\r\n  //     this.triggerIndexBinding();\r\n  //     this.reset();\r\n  //   }\r\n  // }\r\n\r\n  // @HostListener('window:keyup.ArrowLeft', ['$event'])\r\n  // prevImage(event:Event) {\r\n  //   if (this.canNavigate(event) && this.index > 0) {\r\n  //     this.loading = true;\r\n  //     this.index--;\r\n  //     this.triggerIndexBinding();\r\n  //     this.reset();\r\n  //   }\r\n  // }\r\n\r\n  zoomIn() {\r\n    if(this.config.zoomFactor)\r\n    this.scale *= (1 + this.config.zoomFactor);\r\n    this.updateStyle();\r\n  }\r\n\r\n  zoomOut() {\r\n    if(this.config.zoomFactor)\r\n    if (this.scale > this.config.zoomFactor) {\r\n      this.scale /= (1 + this.config.zoomFactor);\r\n    }\r\n    this.updateStyle();\r\n  }\r\n  \r\n  onError(index:number){\r\n    if(this.checkedIndex.includes(index)){\r\n      return;\r\n    }\r\n    this.checkedIndex.push(index);\r\n    fetch(this.src[index]).then(\r\n      (r)=>{\r\n        if(r.ok){\r\n          r.blob().then((imageBlob)=>{\r\n            heic2any({\r\n              blob: imageBlob,\r\n              toType: 'image/jpeg',\r\n            }).then((img:any)=>{\r\n            var reader = new FileReader();\r\n            reader.readAsDataURL(img)\r\n            reader.onloadend = ()=>{\r\n              var b64:any = reader.result;\r\n              this.src[index] = this.sanitizer.sanitize(SecurityContext.RESOURCE_URL, this.sanitizer.bypassSecurityTrustResourceUrl(b64))!;\r\n            }\r\n          },(error:any)=>{\r\n            if(error.code == 1){\r\n              var reader = new FileReader();\r\n              reader.readAsDataURL(imageBlob)\r\n              reader.onloadend = ()=>{\r\n                var b64:any = reader.result;\r\n                this.src[index] = this.sanitizer.sanitize(SecurityContext.RESOURCE_URL, this.sanitizer.bypassSecurityTrustResourceUrl(b64))!;\r\n              }\r\n            }\r\n            else{\r\n              this.customEvent.emit({\r\n                name: 'error',\r\n                imageIndex: this.index\r\n              })\r\n            }\r\n          })\r\n          })\r\n        }\r\n        else{\r\n          this.customEvent.emit({\r\n            name: 'error',\r\n            imageIndex: this.index\r\n          })    \r\n        }\r\n    },(error)=>{\r\n      this.customEvent.emit({\r\n        name: 'error',\r\n        imageIndex: this.index\r\n      }) \r\n    })\r\n  }\r\n\r\n  scrollZoom(evt:any) {\r\n    if (this.config.wheelZoom) {\r\n      evt.deltaY > 0 ? this.zoomOut() : this.zoomIn();\r\n      return false;\r\n    }\r\n    else{\r\n      return\r\n    }\r\n  }\r\n\r\n  rotateClockwise() {\r\n    this.rotation += 90;\r\n    this.updateStyle();\r\n  }\r\n\r\n  rotateCounterClockwise() {\r\n    this.rotation -= 90;\r\n    this.updateStyle();\r\n  }\r\n\r\n  onLoad() {\r\n    this.customEvent.emit({\r\n      name: \"load\",\r\n      imageIndex: this.index\r\n    })\r\n  }\r\n\r\n  onLoadStart() {\r\n    this.customEvent.emit({\r\n      name: \"loadStart\",\r\n      imageIndex: this.index\r\n    })\r\n  }\r\n\r\n  onDragOver(evt:DragEvent) {\r\n    if(this.prevX)\r\n    this.translateX += (evt.clientX - this.prevX);\r\n    if(this.prevY)\r\n    this.translateY += (evt.clientY - this.prevY);\r\n    this.prevX = evt.clientX;\r\n    this.prevY = evt.clientY;\r\n    this.updateStyle();\r\n  }\r\n\r\n  onDragStart(evt:DragEvent) {\r\n    let nextSibling:Element | null = (evt.target as HTMLElement).nextElementSibling;\r\n    if (evt.dataTransfer && evt.dataTransfer.setDragImage && nextSibling) {\r\n      evt.dataTransfer.setDragImage(nextSibling, 0, 0);\r\n    }\r\n    this.prevX = evt.clientX;\r\n    this.prevY = evt.clientY;\r\n  }\r\n\r\n  toggleFullscreen() {\r\n    this.fullscreen = !this.fullscreen;\r\n    if (!this.fullscreen) {\r\n      this.reset();\r\n    }\r\n  }\r\n\r\n  triggerIndexBinding() {\r\n    this.indexChange.emit(this.index);\r\n  }\r\n\r\n  triggerConfigBinding() {\r\n    this.configChange.next(this.config);\r\n  }\r\n\r\n  fireCustomEvent(name: string, imageIndex: number) {\r\n    this.customEvent.emit(new CustomEvent(name, imageIndex));\r\n  }\r\n\r\n  reset() {\r\n    this.scale = 1;\r\n    this.rotation = 0;\r\n    this.translateX = 0;\r\n    this.translateY = 0;\r\n    this.updateStyle();\r\n  }\r\n\r\n  @HostListener('mouseover')\r\n  private onMouseOver() {\r\n    this.hovered = true;\r\n  }\r\n\r\n  @HostListener('mouseleave')\r\n  private onMouseLeave() {\r\n    this.hovered = false;\r\n  }\r\n\r\n  private canNavigate(event: any) {\r\n    return event == null ||  (this.config.allowKeyboardNavigation && this.hovered);\r\n  }\r\n\r\n  private updateStyle() {\r\n    this.style.transform = `translate(${this.translateX}px, ${this.translateY}px) rotate(${this.rotation}deg) scale(${this.scale})`;\r\n    this.style.msTransform = this.style.transform;\r\n    this.style.webkitTransform = this.style.transform;\r\n    this.style.oTransform = this.style.transform;\r\n  }\r\n\r\n  private mergeConfig(defaultValues: ImageViewerConfig, overrideValues: ImageViewerConfig): ImageViewerConfig {\r\n    let result: ImageViewerConfig = { ...defaultValues };\r\n    if (overrideValues) {\r\n      result = { ...defaultValues, ...overrideValues };\r\n    }\r\n    return result;\r\n  }\r\n\r\n}\r\n","<div [ngxToggleFullscreen]=\"fullscreen\" [ngStyle]=\"config.containerStyle\" class=\"img-container\"\r\n    (wheel)=\"scrollZoom($event)\" (dragover)=\"onDragOver($event)\">\r\n    <img [src]=\"src[index]\" (error)=\"onError(index)\" [ngStyle]=\"style\" alt=\"Image not found...\" (dragstart)=\"onDragStart($event)\" (load)=\"onLoad()\" (loadstart)=\"onLoadStart()\"/>\r\n  <!-- Div below will be used to hide the 'ghost' image when dragging -->\r\n  <div></div>\r\n  <ng-content></ng-content> <!-- Used to capture any content that you want to add to this module (To support full screen elements)-->\r\n</div>","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ImageViewerComponent } from './ngx-img-viewer.component';\r\nimport { ImageViewerConfig } from './ngx-img-viewer-config.model';\r\nimport { ToggleFullscreenDirective } from './fullscreen.directive';\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [\r\n    ImageViewerComponent,\r\n    ToggleFullscreenDirective\r\n  ],\r\n  exports: [\r\n    ImageViewerComponent\r\n  ]\r\n})\r\nexport class ImageViewerModule {\r\n  static forRoot(config?: ImageViewerConfig): ModuleWithProviders<ImageViewerModule> {\r\n    return {\r\n      ngModule: ImageViewerModule,\r\n      providers: [{provide: 'config', useValue: config}]\r\n    };\r\n  }\r\n}\r\n","/*\n * Public API Surface of ngx-img-viewer\n */\n\nexport * from './lib/ngx-img-viewer.service';\nexport * from './lib/ngx-img-viewer.component';\nexport * from './lib/ngx-img-viewer.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["i3.ToggleFullscreenDirective"],"mappings":"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"}